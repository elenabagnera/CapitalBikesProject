---
title: "Motivation & Goals"
author: "Elena Bagnera"
date: "12/12/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(haven)
```


## Predicting Capital Bikes Departures


could be nice to have a pic at the start
```{r setup2}
knitr::include_graphics("map.png")
```


DC's Capital Bikeshare service has been increasing in popularity, especially during the COVID-19 pandemic, when Washingtonians needed alternatives for public transport. To date it has 5,000 bikes and 600+ stations across 7 jurisdictions. However, users find the service unreliable at times, especially at peak times. In this project, our goal is to use and optimize supervised machine learning models that can predict the number of ride-sharing bikes that will be used at any give hour, using time and weather predictors. For simplicity, we apply our models to one station in particular that has particularly high demand: the Lincoln Memorial station. As such, our target variable will be the number of bikes that departed from that station at a given hour.

Being able to predict Capital Bikeshare demand, could result in a more efficient allocation of bikes when stations are re-stocked at night. It could also inform and it could inform the eventual expansion of stations across strategic locations across the city to improve the experience of Washingtonians.

## Data

We use Capital Bikeshare's publicly available [historic data](https://www.capitalbikeshare.com/system-data), ranging from May 2020 until September 2021. After data cleaning, our dataset has 309197 rows (CONFIRM?), each indicating the number of hours that departed Lincoln Memorial at a certain hour.

For weather predictors we used data from ADD

For sunlight we used data from ADD

## Data cleaning

The historic data initially included the following variables:

* Duration – Duration of trip
* Start Date – Includes start date and time
* End Date – Includes end date and time
* Start Station – Includes starting station name and number
* End Station – Includes ending station name and number
* Bike Number – Includes ID number of bike used for the trip
* Member Type – Indicates whether user was a "registered" member 

We had to perform significant data cleaning to be able to use the data for our purposes, which involved generating functions for the following purposes:

* Appending 17 datasets into a single dataset
* Getting hourly data
* Separating departures from arrivals
* Filtering stations from Lincoln memorial based on a given parameter
* Lagging data by 14 days in order to be abe to use it as predictors
* Making data wider

We also had to add data on weather and sunlight predictors in the following way:
* Clean weather dataset using lubridate functions in order to be able to merge on date and hour
* Removig variables with missing obsrvations
* Creating a categorical vaariable for good, bad and "okay" weather
* To add sunlight predictors, we had to... [ADD - I DO NOT UNDERSTAND THIS FULLY]

The cleaned dataset includes the following variables:


## Overall method

here is where we explain why we used certain algorithms versus others


